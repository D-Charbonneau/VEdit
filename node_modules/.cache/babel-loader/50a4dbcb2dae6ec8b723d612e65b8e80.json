{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\boome\\\\Desktop\\\\VEdit\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\Users\\\\boome\\\\Desktop\\\\VEdit\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{useContext,useState}from\"react\";import{useForm}from\"react-hook-form\";import{Accordion,Button,Form,Icon}from\"semantic-ui-react\";import{GlobalContext}from\"../../../contexts/globalContext\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export function Account(_ref){var usernameHandler=_ref.usernameHandler,passwordHandler=_ref.passwordHandler,pfpHandler=_ref.pfpHandler;var _useState=useState(-1),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var handleClick=function handleClick(e,titleProps){var index=titleProps.index;var activeIndex=state;var newIndex=activeIndex===index?-1:index;setState(newIndex);};var user=useContext(GlobalContext).state.user;var _useForm=useForm(),handleSubmit=_useForm.handleSubmit,register=_useForm.register;return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",margin:40},children:[/*#__PURE__*/_jsxs(\"h1\",{children:[user===null||user===void 0?void 0:user.username,(user===null||user===void 0?void 0:user.username.substring((user===null||user===void 0?void 0:user.username.length)-1))===\"s\"?\"'\":\"'s\",\" Account\"]}),/*#__PURE__*/_jsx(\"img\",{src:user===null||user===void 0?void 0:user.pfp,width:300,className:\"largepfp\",alt:\"Profile\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",margin:40},children:[/*#__PURE__*/_jsxs(Accordion,{children:[/*#__PURE__*/_jsxs(Accordion.Title,{active:state===0,index:0,onClick:handleClick,children:[/*#__PURE__*/_jsx(Icon,{name:\"dropdown\"}),\"Change Username\"]}),/*#__PURE__*/_jsx(Accordion.Content,{active:state===0,children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit(usernameHandler),children:[/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"New Username\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"username\")),{},{name:\"username\",placeholder:\"New Username\"}))]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm New Username\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"confirmusername\")),{},{name:\"confirmusername\",placeholder:\"Confirm New Username\"}))]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Change Username\"})]})})]}),/*#__PURE__*/_jsxs(Accordion,{style:{marginTop:15},children:[/*#__PURE__*/_jsxs(Accordion.Title,{active:state===1,index:1,onClick:handleClick,children:[/*#__PURE__*/_jsx(Icon,{name:\"dropdown\"}),\"Change Password\"]}),/*#__PURE__*/_jsx(Accordion.Content,{active:state===1,children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit(passwordHandler),children:[/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Old Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"oldpassword\")),{},{type:\"password\",name:\"oldpassword\",placeholder:\"Old Password\"}))]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"password\")),{},{type:\"password\",name:\"password\",placeholder:\"New Password\"}))]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm New Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"confirmpassword\")),{},{type:\"password\",name:\"confirmpassword\",placeholder:\"Confirm New Password\"}))]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Change Password\"})]})})]}),/*#__PURE__*/_jsxs(Accordion,{style:{marginTop:15},children:[/*#__PURE__*/_jsxs(Accordion.Title,{active:state===2,index:2,onClick:handleClick,children:[/*#__PURE__*/_jsx(Icon,{name:\"dropdown\"}),\"Change Profile Picture\"]}),/*#__PURE__*/_jsx(Accordion.Content,{active:state===2,children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit(pfpHandler),children:[/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Link to profile picture (Leave blank for default)\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"pfp\")),{},{name:\"pfp\",placeholder:\"Link to profile picture\"}))]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Change Profile Picture\"})]})})]})]})]});}","map":{"version":3,"sources":["C:/Users/boome/Desktop/vedit/src/components/protected/account/index.tsx"],"names":["useContext","useState","useForm","Accordion","Button","Form","Icon","GlobalContext","Account","usernameHandler","passwordHandler","pfpHandler","state","setState","handleClick","e","titleProps","index","activeIndex","newIndex","user","handleSubmit","register","display","flexDirection","margin","username","substring","length","pfp","marginTop"],"mappings":"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","sourcesContent":["import { useContext, useState } from \"react\"\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Accordion, Button, Form, Icon } from \"semantic-ui-react\";\r\nimport { GlobalContext } from \"../../../contexts/globalContext\"\r\n\r\nexport type UsernameChangeFormValues = {\r\n    username: string,\r\n    confirmusername: string;\r\n}\r\n\r\nexport type PasswordChangeFormValues = {\r\n    oldpassword: string,\r\n    password: string,\r\n    confirmpassword: string;\r\n}\r\n\r\nexport type PFPChangeFormValues = {\r\n    pfp: string;\r\n}\r\n\r\ntype FormHandles = {\r\n    usernameHandler: (formValues: UsernameChangeFormValues) => void,\r\n    passwordHandler: (formValues: PasswordChangeFormValues) => void;\r\n    pfpHandler: (formValues: PFPChangeFormValues) => void;\r\n}\r\n\r\nexport function Account({ usernameHandler, passwordHandler, pfpHandler }: FormHandles)\r\n{\r\n    const [state, setState] = useState<number>(-1);\r\n\r\n    const handleClick = (e: any, titleProps: any) =>\r\n    {\r\n        const { index } = titleProps\r\n        const activeIndex = state\r\n        const newIndex = activeIndex === index ? -1 : index\r\n\r\n        setState(newIndex)\r\n    }\r\n\r\n    const user = useContext(GlobalContext).state.user;\r\n    const { handleSubmit, register } = useForm();\r\n    return (\r\n        <div style={{ display: \"flex\" }}>\r\n            <div style={{ display: \"flex\", flexDirection: \"column\", margin: 40 }}>\r\n                <h1>{user?.username}{user?.username.substring(user?.username.length - 1) === \"s\" ? \"'\" : \"'s\"} Account</h1>\r\n                <img src={user?.pfp} width={300} className=\"largepfp\" alt=\"Profile\" />\r\n            </div>\r\n            <div style={{ display: \"flex\", flexDirection: \"column\", margin: 40 }}>\r\n                <Accordion>\r\n                    <Accordion.Title\r\n                        active={state === 0}\r\n                        index={0}\r\n                        onClick={handleClick}\r\n                    >\r\n                        <Icon name='dropdown' />\r\n                        Change Username\r\n                    </Accordion.Title>\r\n                    <Accordion.Content active={state === 0}>\r\n                        <Form onSubmit={handleSubmit(usernameHandler)}>\r\n                            <Form.Field>\r\n                                <label>New Username</label>\r\n                                <input {...register(\"username\")} name=\"username\" placeholder=\"New Username\" />\r\n                            </Form.Field>\r\n                            <Form.Field>\r\n                                <label>Confirm New Username</label>\r\n                                <input {...register(\"confirmusername\")} name=\"confirmusername\" placeholder=\"Confirm New Username\" />\r\n                            </Form.Field>\r\n                            <Button type=\"submit\">\r\n                                Change Username\r\n                            </Button>\r\n                        </Form>\r\n                    </Accordion.Content>\r\n                </Accordion>\r\n                <Accordion style={{ marginTop: 15 }}>\r\n                    <Accordion.Title\r\n                        active={state === 1}\r\n                        index={1}\r\n                        onClick={handleClick}\r\n                    >\r\n                        <Icon name='dropdown' />\r\n                        Change Password\r\n                    </Accordion.Title>\r\n                    <Accordion.Content active={state === 1}>\r\n                        <Form onSubmit={handleSubmit(passwordHandler)}>\r\n                            <Form.Field>\r\n                                <label>Old Password</label>\r\n                                <input {...register(\"oldpassword\")} type=\"password\" name=\"oldpassword\" placeholder=\"Old Password\" />\r\n                            </Form.Field>\r\n                            <Form.Field>\r\n                                <label>New Password</label>\r\n                                <input {...register(\"password\")} type=\"password\" name=\"password\" placeholder=\"New Password\" />\r\n                            </Form.Field>\r\n                            <Form.Field>\r\n                                <label>Confirm New Password</label>\r\n                                <input {...register(\"confirmpassword\")} type=\"password\" name=\"confirmpassword\" placeholder=\"Confirm New Password\" />\r\n                            </Form.Field>\r\n                            <Button type=\"submit\">\r\n                                Change Password\r\n                            </Button>\r\n                        </Form>\r\n                    </Accordion.Content>\r\n                </Accordion>\r\n                <Accordion style={{ marginTop: 15 }} >\r\n                    <Accordion.Title\r\n                        active={state === 2}\r\n                        index={2}\r\n                        onClick={handleClick}\r\n                    >\r\n                        <Icon name='dropdown' />\r\n                        Change Profile Picture\r\n                    </Accordion.Title>\r\n                    <Accordion.Content active={state === 2}>\r\n                        <Form onSubmit={handleSubmit(pfpHandler)}>\r\n                            <Form.Field>\r\n                                <label>Link to profile picture (Leave blank for default)</label>\r\n                                <input {...register(\"pfp\")} name=\"pfp\" placeholder=\"Link to profile picture\" />\r\n                            </Form.Field>\r\n                            <Button type=\"submit\">\r\n                                Change Profile Picture\r\n                            </Button>\r\n                        </Form>\r\n                    </Accordion.Content>\r\n                </Accordion>\r\n            </div>\r\n        </div >\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}