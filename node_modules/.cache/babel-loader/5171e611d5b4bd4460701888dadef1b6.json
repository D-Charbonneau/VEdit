{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\boome\\\\Desktop\\\\vedit\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\boome\\\\Desktop\\\\vedit\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useContext}from\"react\";import FileList from\"../../components/protected/fileList\";import{GlobalContext}from\"../../contexts/globalContext\";import API from\"../../dataLayer/api\";import{jsx as _jsx}from\"react/jsx-runtime\";export function FileListView(){var state=useContext(GlobalContext);var handleNewProject=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var _state$state$user;var _state$state$user2,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!((_state$state$user=state.state.user)!==null&&_state$state$user!==void 0&&_state$state$user.id)){_context.next=5;break;}_context.next=3;return API.newProject((_state$state$user2=state.state.user)===null||_state$state$user2===void 0?void 0:_state$state$user2.id,values.title);case 3:result=_context.sent;if(result.status===\"success\"&&state.refreshData!==undefined){state.refreshData(result.data.message);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleNewProject(_x){return _ref.apply(this,arguments);};}();var handleDeleteProject=function handleDeleteProject(index){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _state$state$user3;var _state$state$user4,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!((_state$state$user3=state.state.user)!==null&&_state$state$user3!==void 0&&_state$state$user3.id)){_context2.next=5;break;}_context2.next=3;return API.deleteProject((_state$state$user4=state.state.user)===null||_state$state$user4===void 0?void 0:_state$state$user4.id,index);case 3:result=_context2.sent;if(result.status===\"success\"&&state.refreshData!==undefined){state.refreshData(result.data.message);}case 5:case\"end\":return _context2.stop();}}},_callee2);}));};return/*#__PURE__*/_jsx(FileList,{deleteProjectHandler:handleDeleteProject,projectHandler:handleNewProject});}","map":{"version":3,"sources":["C:/Users/boome/Desktop/vedit/src/views/protected/fileList.view.tsx"],"names":["useContext","FileList","GlobalContext","API","FileListView","state","handleNewProject","values","user","id","newProject","title","result","status","refreshData","undefined","data","message","handleDeleteProject","index","deleteProject"],"mappings":"0PAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,MAAOC,CAAAA,QAAP,KAA+C,qCAA/C,CACA,OAASC,aAAT,KAA8B,8BAA9B,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,C,2CAEA,MAAO,SAASC,CAAAA,YAAT,EACP,CACI,GAAMC,CAAAA,KAAK,CAAGL,UAAU,CAACE,aAAD,CAAxB,CACA,GAAMI,CAAAA,gBAAgB,0FAAG,iBAAOC,MAAP,8LAEjBF,KAAK,CAACA,KAAN,CAAYG,IAFK,sCAEjB,kBAAkBC,EAFD,gDAIEN,CAAAA,GAAG,CAACO,UAAJ,qBAAeL,KAAK,CAACA,KAAN,CAAYG,IAA3B,6CAAe,mBAAkBC,EAAjC,CAAqCF,MAAM,CAACI,KAA5C,CAJF,QAIbC,MAJa,eAKjB,GAAIA,MAAM,CAACC,MAAP,GAAkB,SAAlB,EAA+BR,KAAK,CAACS,WAAN,GAAsBC,SAAzD,CACA,CACIV,KAAK,CAACS,WAAN,CAAkBF,MAAM,CAACI,IAAP,CAAYC,OAA9B,EACH,CARgB,sDAAH,kBAAhBX,CAAAA,gBAAgB,4CAAtB,CAYA,GAAMY,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,KAAD,CAC5B,CACI,2EAAO,sNAECd,KAAK,CAACA,KAAN,CAAYG,IAFb,uCAEC,mBAAkBC,EAFnB,kDAIoBN,CAAAA,GAAG,CAACiB,aAAJ,qBAAkBf,KAAK,CAACA,KAAN,CAAYG,IAA9B,6CAAkB,mBAAkBC,EAApC,CAAwCU,KAAxC,CAJpB,QAIKP,MAJL,gBAKC,GAAIA,MAAM,CAACC,MAAP,GAAkB,SAAlB,EAA+BR,KAAK,CAACS,WAAN,GAAsBC,SAAzD,CACA,CACIV,KAAK,CAACS,WAAN,CAAkBF,MAAM,CAACI,IAAP,CAAYC,OAA9B,EACH,CARF,wDAAP,GAWH,CAbD,CAeA,mBACI,KAAC,QAAD,EAAU,oBAAoB,CAAEC,mBAAhC,CAAqD,cAAc,CAAEZ,gBAArE,EADJ,CAGH","sourcesContent":["import { useContext } from \"react\";\r\nimport FileList, { NewProjectFormValues } from \"../../components/protected/fileList\";\r\nimport { GlobalContext } from \"../../contexts/globalContext\";\r\nimport API from \"../../dataLayer/api\";\r\n\r\nexport function FileListView()\r\n{\r\n    const state = useContext(GlobalContext);\r\n    const handleNewProject = async (values: NewProjectFormValues) =>\r\n    {\r\n        if (state.state.user?.id)\r\n        {\r\n            let result = await API.newProject(state.state.user?.id, values.title);\r\n            if (result.status === \"success\" && state.refreshData !== undefined)\r\n            {\r\n                state.refreshData(result.data.message);\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleDeleteProject = (index: number) =>\r\n    {\r\n        return async () =>\r\n        {\r\n            if (state.state.user?.id)\r\n            {\r\n                let result = await API.deleteProject(state.state.user?.id, index);\r\n                if (result.status === \"success\" && state.refreshData !== undefined)\r\n                {\r\n                    state.refreshData(result.data.message);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <FileList deleteProjectHandler={handleDeleteProject} projectHandler={handleNewProject} />\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}